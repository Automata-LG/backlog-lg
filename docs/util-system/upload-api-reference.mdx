---
title: 업로드 API 레퍼런스
description: 파일 업로드 관련 API 명세
icon: 'upload'
---

## 개요

파일 업로드 API는 이미지와 비디오 파일을 S3에 업로드하고 접근 가능한 URL을 반환합니다.

## Admin API (관리자용)

### 이미지 업로드

#### POST /external/admin/util/upload-image/file

이미지 파일을 업로드합니다. (레거시 API, 하위 호환성 유지)

**인증**: 필요 (관리자)

**요청 형식**: multipart/form-data
- `file`: 업로드할 이미지 파일

**지원 형식**:
- JPEG, PNG, GIF, WebP, SVG
- 최대 크기: 10MB

**응답**:
```json
{
  "filename": "abc123-image.jpg",
  "url": "업로드된 파일의 CDN URL"
}
```

### 미디어 업로드

#### POST /external/admin/util/upload-media/file

이미지 또는 비디오 파일을 업로드합니다.

**인증**: 필요 (관리자)

**요청 형식**: multipart/form-data
- `file`: 업로드할 미디어 파일

**지원 형식**:
- 이미지: JPEG, PNG, GIF, WebP, SVG (최대 10MB)
- 비디오: MP4, WebM (최대 100MB)

**응답**:
```json
{
  "filename": "xyz789-video.mp4",
  "url": "업로드된 파일의 CDN URL"
}
```

## 에러 코드

| 코드 | HTTP 상태 | 설명 | 대응 방법 |
| --- | --- | --- | --- |
| FDE-C-001 | 400 | 파일이 없음 | 요청에 'file' 필드 포함 확인 |
| FDE-C-401 | 500 | 허용되지 않는 파일 형식 | 지원되는 파일 형식 확인 |
| FDE-C-101 | 500 | 내부 서버 오류 | 서버 관리자에게 문의 |
| - | 413 | 파일 크기 초과 | 파일 크기 제한 확인 |
| - | 401 | 인증 실패 | 유효한 JWT 토큰 확인 |
| - | 403 | 권한 없음 | 관리자 권한 확인 |

## 파일 저장 구조

- 이미지: `images/` 폴더에 저장
- 비디오: `videos/` 폴더에 저장
- 파일명: `{랜덤문자열}-{원본파일명}` 형식으로 저장
- 원본 파일명은 유니코드 정규화(NFC) 처리

## 주의사항

- 업로드된 파일은 공개 CDN에 저장되므로 민감한 정보가 포함된 파일은 업로드하지 마세요
- 클라이언트에서 파일 크기와 형식을 미리 검증하면 사용자 경험이 향상됩니다
- 대용량 파일 업로드 시 적절한 타임아웃 설정이 필요합니다