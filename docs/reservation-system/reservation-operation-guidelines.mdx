---
title: 예약 시스템 운영 가이드라인
description: 예약 시스템 운영 정책 및 규칙 정의
icon: 'list-check'
---

## 개요

이 문서는 예약 시스템 운영 시 준수해야 할 정책과 규칙을 정의합니다. 운영팀과 개발팀 모두가 참조해야 하는 가이드라인입니다.

## 이미지 관리 정책

### images 배열 순서 규칙

예약 시스템의 `images` 필드는 배열 인덱스별로 특정 용도가 지정되어 있습니다. 이 규칙은 반드시 준수되어야 합니다.

#### 기본 규칙

| 인덱스 | 용도 | 설명 | 필수 여부 |
|--------|------|------|-----------|
| 0 | 썸네일 | 목록 화면에 표시되는 대표 이미지 | 필수 |
| 1 | 프로모 영상/이미지 | 홍보용 미디어 (비디오 URL 또는 이미지) | 선택 |
| 2~ | 소개 이미지 | 상세 화면에 표시되는 추가 이미지들 | 선택 |

#### 적용 대상

- `ReservationHost.images`: 호스트(아트센터, 레스토랑) 이미지
- `ReservationContent.images`: 컨텐츠(공연, 메뉴) 이미지
- `ReservationPriceItem.images`: 가격 항목(티켓, 메뉴, 서비스) 이미지

### Host별 세부 규칙

#### 아트센터 (kind: ART_CENTER)
```typescript
{
  images: [
    "thumbnail.jpg",        // [0] 필수: 아트센터 대표 이미지
    "promo-video.mp4",      // [1] 선택: 홍보 영상
    "hall-1.jpg",           // [2] 선택: 공연장 내부
    "hall-2.jpg",           // [3] 선택: 로비
    // ...
  ]
}
```

#### SKS 다이닝 (kind: RESTAURANT + name에 "SKS" 포함)
```typescript
{
  images: [
    "restaurant-thumb.jpg",  // [0] 필수: 레스토랑 대표 이미지
    "promo-video.mp4",      // [1] 권장: SKS 다이닝 프로모 영상
    "interior-1.jpg",       // [2] 선택: 내부 전경
    "interior-2.jpg",       // [3] 선택: 개별룸
    // ...
  ]
}
```

### 가격 항목별 세부 규칙

#### 티켓 (kind: TICKET)
```typescript
{
  images: [
    "ticket-thumb.jpg",    // [0] 필수: 티켓 대표 이미지
    "ticket-detail.jpg",   // [1] 선택: 상세 이미지
    // ...
  ]
}
```

#### 메뉴 (kind: MENU)
```typescript
{
  images: [
    "menu-thumb.jpg",    // [0] 필수: 메뉴 대표 이미지
    "menu-detail.jpg",   // [1] 선택: 상세 이미지
    // ...
  ]
}
```

#### 서비스 (kind: SERVICE)
```typescript
{
  images: [
    "service-thumb.jpg",  // [0] 권장: 서비스 대표 이미지
    // ...
  ]
}
```

### 운영 지침

#### 이미지 업로드 시
1. **순서 준수**: 반드시 지정된 인덱스에 맞는 용도의 이미지 업로드
2. **썸네일 필수**: 첫 번째 이미지(index 0)는 반드시 존재해야 함
3. **일관성 유지**: 같은 카테고리의 호스트는 동일한 구조 유지

#### 어드민 UI 구현 가이드
```typescript
// 어드민 이미지 업로드 UI 예시
interface ImageUploadSection {
  thumbnail: {
    label: "썸네일 이미지 (필수)",
    accept: "image/*",
    maxSize: "10MB",
    index: 0
  },
  promoMedia: {
    label: "프로모 영상/이미지 (선택)",
    accept: "image/*,video/mp4,video/webm",
    maxSize: "100MB",
    index: 1
  },
  gallery: {
    label: "소개 이미지 (선택, 여러 개 가능)",
    accept: "image/*",
    maxSize: "10MB each",
    startIndex: 2
  }
}
```

#### 클라이언트 사용 예시
```typescript
// 원클릭 예약 화면
const thumbnail = host.images[0]; // 썸네일 표시

// SKS 다이닝 상세 화면
const promoVideo = host.images[1]; // 프로모 영상 재생

// 갤러리 뷰
const galleryImages = host.images.slice(2); // 추가 이미지들
```

### 주의사항

1. **이미지 삭제 시**: 인덱스가 변경되지 않도록 빈 문자열("")로 대체하거나, 전체 재정렬 필요
2. **마이그레이션**: 기존 데이터는 수동으로 순서 조정 필요
3. **검증**: API에서 images[0]이 없는 경우 에러 처리

## SKS 다이닝 그룹 처리

### 그룹핑 규칙
SKS 다이닝은 여러 개의 Host로 구성되지만, 앱에서는 하나의 그룹으로 표시됩니다.

#### 필터링 조건
```typescript
// SKS 다이닝 그룹 조회
const sksHosts = hosts.filter(host =>
  host.kind === 'RESTAURANT' &&
  host.name.includes('SKS')
);
```

#### 그룹 대표 이미지
- SKS 다이닝 그룹의 썸네일: "SKS 다이닝 - 식사" Host의 images[0] 사용
- 프로모 영상: "SKS 다이닝 - 식사" Host의 images[1] 사용

## 변경 이력

### 2025-01-17
- 초기 문서 작성
- images 배열 순서 규칙 정의
- SKS 다이닝 그룹 처리 규칙 추가
- ReservationPriceItem images 규칙 추가

## 향후 추가 예정 정책

- 예약 확정 방식별 운영 규칙
- 쿠폰 적용 가능 컨텐츠 지정 규칙
- 예약 취소/변경 정책
- 노쇼 패널티 운영 정책
- 추첨 운영 세부 규칙