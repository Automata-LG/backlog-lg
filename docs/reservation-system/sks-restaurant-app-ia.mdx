---
title: 'SKS 레스토랑 앱 IA'
description: 'SKS 서울 레스토랑 모바일 앱 정보 구조 및 화면 설계'
icon: 'mobile'
---

## 1. 예약 시스템 FSM (Finite State Machine)

<Card title="예약 상태 전환 다이어그램" icon="diagram-project">
  예약 시스템의 핵심 상태 전환 로직을 정의합니다.
</Card>

### 주요 상태 정의

| 상태 | 설명 | 전환 가능 상태 |
|------|------|--------------|
| **예약대기** | 초기 예약 신청 상태 | 예약확정, 예약취소_유저 |
| **예약확정** | 관리자 확인 완료 | 예약확정_좌석배정, 예약취소_유저, 예약취소_관리자 |
| **예약확정_좌석배정** | 테이블 배정 완료 | 이용완료, 노쇼, 예약취소_관리자 |
| **예약취소_유저** | 유저가 취소 | (종료 상태) |
| **예약취소_관리자** | 관리자가 취소 | (종료 상태) |
| **이용완료** | 정상 이용 완료 | (종료 상태) |
| **노쇼** | 방문하지 않음 | (종료 상태) |

### 상태 전환 규칙

<AccordionGroup>
  <Accordion title="일반 예약 플로우">
    1. **예약대기** → **예약확정**: 관리자 확인
    2. **예약확정** → **예약확정_좌석배정**: 테이블 배정
    3. **예약확정_좌석배정** → **이용완료**: 정상 방문 및 이용
  </Accordion>

  <Accordion title="취소 플로우">
    - **예약대기/예약확정** → **예약취소_유저**: 유저 취소 (D-2까지)
    - **모든 상태** → **예약취소_관리자**: 관리자 강제 취소
  </Accordion>

  <Accordion title="패널티 플로우">
    - **예약확정_좌석배정** → **노쇼**: 당일 미방문
  </Accordion>
</AccordionGroup>

### 권한별 접근 제한

- **일반 유저**: 예약취소_유저만 가능 (D-2 23:59까지)
- **관리자**: 모든 상태 전환 가능

## 2. 앱 화면 구조

### 2.1 메인 화면

<CardGroup cols={2}>
  <Card title="홈" icon="house">
    - SKS 레스토랑 소개
    - 빠른 예약 버튼
    - 오늘의 메뉴
    - 공지사항
  </Card>

  <Card title="예약" icon="calendar">
    - 예약 신청
    - 내 예약 조회
    - 예약 변경/취소
  </Card>
</CardGroup>

### 2.2 예약 신청 플로우

<Steps>
  <Step title="Step 1: 일정/타입 선택">
    **화면 구성**
    - 달력 영역 (예약 가능일 표시)
    - 컨텐츠 선택 (다이닝/카페)
    - 좌석 타입 선택 (룸/홀)
    
    **비즈니스 로직**
    - 블랙 등급: D+60일까지
    - 일반 등급: D+30일까지
    - 당일 예약 불가
  </Step>

  <Step title="Step 2: 인원/시간 확인">
    **입력 필드**
    - 인원 선택
      - 룸: 4-8인
      - 홀: 2-4인 또는 2-6인
    - 방문 시간 선택 (30분 단위)
      - 다이닝: 11:00-14:00
      - 카페: 15:00-18:00
    
    **제한 사항**
    - 홀 5-6인: 하루 최대 2건
    - 일러스트로 "알려드릴게 있어요" 안내
  </Step>

  <Step title="Step 3: 요청사항 등 입력">
    **기본 정보**
    - 이름 (회원정보 자동)
    - 전화번호 (회원정보 자동)
    
    **추가 입력**
    - 알러지 정보 (최대 100자)
    - 추가 옵션
      - 쇼룸 투어
      - 제품 상담
    - 차량 정보
    - 요청사항
    
    **쿠폰 확인**
    - 보유 쿠폰 자동 표시
    - 사용 가능 여부 검증
  </Step>

  <Step title="Step 4: 확인">
    **예약 정보 요약**
    - 예약 관련 안내문
      - 예약 관련 안내문
      - 선택한 일정
      - 선택한 인원
      - 선택한 방문 시간
      - 선택한 요청사항 등
    - 예약 공지사항 노출
    - 개인정보 제3자 제공 동의
    
    **액션**
    - 이전 (수정)
    - 예약하기 (최종 제출)
  </Step>
</Steps>

### 2.3 예약 일자 선택 영역

<Card title="예약가능일자 표시 영역: data API로 받아옴" icon="calendar-days">
  **API 데이터 구조**
  ```json
  {
    "availableDates": [
      {
        "date": "2025-08-23",
        "dayOfWeek": "토",
        "dining": {
          "available": true,
          "remainingSeats": 2
        },
        "cafe": {
          "available": false,
          "remainingSeats": 0
        }
      }
    ]
  }
  ```
  
  **UI 표현**
  - 캘린더 형태 또는 리스트 형태
  - 예약 가능: 활성화
  - 예약 마감: 비활성화
  - 빈자리 알림 신청 버튼 (만석 시)
</Card>

### 2.4 쿠폰 영역

<Card title="쿠폰 영역: API로 data 받아옴" icon="ticket">
  **쿠폰 데이터**
  - 일반 쿠폰
  - 쿠폰명
  - 쿠폰설명
  - 잔여 쿠폰 개수
  - 쿠폰 유효기간
  - 쿠폰 유의사항
  
  **표시 방식**
  - 보유 쿠폰 자동 표시
  - 사용 가능 쿠폰 우선 노출
  - 만료 임박 쿠폰 경고 표시
</Card>

## 3. 예약 관리 화면

### 3.1 내 예약 목록

<Tabs>
  <Tab title="예정된 예약">
    **표시 정보**
    - 예약일시
    - 컨텐츠 (다이닝/카페)
    - 인원
    - 예약 상태
    - 좌석 배정 여부
    
    **액션 버튼**
    - 상세보기
    - 변경 (D-2까지)
    - 취소 (D-2까지)
  </Tab>

  <Tab title="지난 예약">
    **표시 정보**
    - 이용일시
    - 컨텐츠
    - 이용 상태 (완료/노쇼/취소)
    
    **액션 버튼**
    - 상세보기
    - 재예약
  </Tab>
</Tabs>

### 3.2 예약 상세 화면

<Card title="예약 상세 정보" icon="file-lines">
  **기본 정보**
  - 예약번호
  - 예약 상태
  - 예약일시
  - 컨텐츠/좌석 타입
  - 인원
  - 방문시간
  
  **추가 정보**
  - 알러지
  - 추가 옵션
  - 차량 정보
  - 요청사항
  
  **쿠폰 정보**
  - 사용 예정 쿠폰
  
  **액션 버튼**
  - 예약 변경 (배정 전 D-2까지)
  - 예약 취소 (D-2까지)
  - 동반인 초대 (카카오톡)
</Card>

### 3.3 예약 변경 화면

<Warning>
  **변경 가능 항목 (좌석 배정 전)**
  - 날짜/시간 변경 가능
  - 인원 변경 불가
  
  **변경 가능 항목 (좌석 배정 후)**
  - 인원 제한적 변경
    - 4인 테이블: 2-4인
    - 6인 테이블: 2-6인
  - 방문시간
  - 요청사항
  - 차량정보
  - 추가옵션
</Warning>

## 4. 빈자리 알림

### 4.1 알림 신청

<Card title="빈자리 알림 신청" icon="bell">
  **신청 조건**
  - 희망 날짜 만석 시 표시
  - 날짜별 최대 10명 제한
  
  **신청 정보**
  - 희망 날짜
  - 컨텐츠 (다이닝/카페)
  - 연락처 확인
  
  **안내 문구**
  - "취소 발생 시 알림을 받고 선착순으로 예약하실 수 있습니다"
</Card>

### 4.2 알림 수신

<Card title="빈자리 발생 알림" icon="message">
  **알림 채널**
  - 카카오 알림톡
  - 앱 푸시
  
  **알림 내용**
  - 빈자리 발생 날짜
  - 컨텐츠 정보
  - 바로 예약 링크
  - 선착순 안내
</Card>

## 5. 기타 화면

### 5.1 소식 화면

<CardGroup cols={2}>
  <Card title="공지사항" icon="megaphone">
    - 운영 시간 변경
    - 휴무 안내
    - 이벤트 공지
  </Card>

  <Card title="메뉴" icon="utensils">
    - 다이닝 메뉴
    - 카페 메뉴
    - 시즌 특선
  </Card>
</CardGroup>

### 5.2 마이페이지

<Card title="마이페이지" icon="user">
  **회원 정보**
  - 회원 등급 표시
  - 프로필 수정 (EMP 연결)
  
  **예약 현황**
  - 이번 달 예약 건수
  - 취소/노쇼 현황
  
  **쿠폰함**
  - 보유 쿠폰 목록
  - 사용 내역
  
  **설정**
  - 알림 설정
  - 약관 및 정책
</Card>

## 6. 알림 시나리오

### 6.1 예약 관련 알림

| 시점 | 알림 내용 | 채널 |
|------|----------|------|
| **예약 완료** | 예약이 확정되었습니다 | 카카오톡, 푸시 |
| **좌석 배정** | 테이블이 배정되었습니다 | 카카오톡, 푸시 |
| **D-1** | 내일 방문 예정입니다 | 카카오톡, 푸시 |
| **D-day** | 오늘 방문 예정입니다 | 카카오톡, 푸시 |
| **예약 변경** | 예약이 변경되었습니다 | 카카오톡, 푸시 |
| **예약 취소** | 예약이 취소되었습니다 | 카카오톡, 푸시 |

### 6.2 빈자리 알림

- **발송 시점**: 취소 발생 즉시
- **수신 대상**: 해당 날짜 대기자 전원 (최대 10명)
- **예약 방식**: 선착순

## 7. 에러 처리

<Warning>
  **주요 에러 시나리오**
  - 중복 예약 방지
  - 예약 가능 시간 초과
  - 쿠폰 유효성 검증 실패
  - 네트워크 오류
  
  각 에러 상황에 대한 명확한 안내 메시지 제공
</Warning>